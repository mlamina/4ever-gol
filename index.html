<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game of Life</title>
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bulma@1.0.1/css/bulma.min.css"
    >
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        canvas {
            display: block;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/8.2.6/pixi.min.js" integrity="sha512-zc4TExgeBQ7b3Gs7JvLcztM9H9etw2zxwvzGU0TFKqPuxH4drXpPb9VjT7w78ahp04y36a1atVwgcxMw3cs2qg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const app = new PIXI.Application({
            width: window.innerWidth,
            height: window.innerHeight,
            backgroundColor: 0xFFFFFF
        });

        const gridSize = 100;
        let zoomLevel = 1;
        const maxZoomLevel = 4;

        function createGrid() {
            const cellSize = (app.screen.width / gridSize) * zoomLevel;
            app.stage.removeChildren();
            for (let i = 0; i < gridSize; i++) {
                for (let j = 0; j < gridSize; j++) {
                    const graphics = new PIXI.Graphics();
                    graphics.beginFill(Math.random() * 0xFFFFFF);
                    graphics.drawRect(i * cellSize, j * cellSize, cellSize, cellSize);
                    graphics.endFill();
                    app.stage.addChild(graphics);
                }
            }
        }

        app.init().then(() => {
            document.body.appendChild(app.view);
            createGrid();
        });

        window.addEventListener('resize', () => {
            console.log('resize: ', window.innerWidth, window.innerHeight);
            app.renderer.resize(window.innerWidth, window.innerHeight);
            createGrid();
        });

        window.addEventListener('wheel', (event) => {
            if (event.deltaY < 0) {
                zoomLevel = Math.min(zoomLevel + 0.1, maxZoomLevel);
            } else {
                zoomLevel = Math.max(zoomLevel - 0.1, 1);
            }
            createGrid();
        });
    });
</script>
</body>
</html>
